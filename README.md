# ダンジョンゲーム仕様書

## 仕様の決定方法

- 本仕様書の内容は、今後の議論や実装において基準となる「確定仕様」として扱う。
- 仕様を詳細化・確定する際は、質問形式で項目ごとの確認を行い、オーナー（kayabuking）がy（はい）／n（いいえ）で回答することで仕様を決定する。
- y/n回答は決定事項として記録し、仕様書に反映する。
- 追加質問や補足が必要な場合は、その都度質問を重ねて明確化する。
- 会話が途絶えた後に再度議論を開始する場合、必ず本仕様書（ダンジョンゲーム仕様書）を参照・読み込み、これを元に仕様検討・決定を行うこと。

---

## 目次
1. ゲーム概要
2. ダンジョン構造
3. バトルシステム
4. 全滅・復活・ペナルティ
5. ギルド・救急車機能
6. 武器・装備・鑑定システム
7. NFT武器・装備の仕様
8. UI/UX要素
9. 仕様変更履歴

---

## 1. ゲーム概要

- プレイヤーは無限階層のダンジョンを攻略する。
- 各階層にはボスや特別なイベントが発生する。
- バトルは完全リアルタイム方式で進行。
- すべてのプレイヤーはゲーム開始時から地上の単一のギルドに自動所属する（ギルド未所属状態は存在しない）。
- ギルドによる協力要素や救急車（復活支援）システムを導入。
- 武器・装備の鑑定やNFT要素あり。

---

## 2. ダンジョン構造

- 各ダンジョンは無限階層で構成される。
- 各階層にはボスが1体存在し、撃破するとゲートが出現して次階層へ進める。
- 一部の階層では、ボスを倒した後にさらに強力なボス（例：裏ボス、第二形態など）が連続して出現する特別な階層も存在する。
  - この場合も、その階層の“最終的なボス”が撃破対象となる。
- 各階層に特別なイベントが発生する場合がある。
- ダンジョン内での移動や探索はリアルタイム進行。

---

## 3. バトルシステム

- バトルはターン制ではなく、完全リアルタイム方式で進行する。
- プレイヤーおよび敵キャラクターは、各自の速度・クールタイムに応じて順次行動する。
- スキルやアイテムの使用もリアルタイムで管理される。
- 状態異常やバフ・デバフも時間経過で管理される。
- 複数人パーティでの協力プレイに対応。

---

## 4. 全滅・復活・ペナルティ

- パーティが全滅した場合、以下の2パターンが存在する。

### 1. セーブポイント（拠点）に戻る場合
- 所持アイテムのうち一部が全滅現場に「落ちる」（アイテムは完全喪失しない）。
- 落ちたアイテムは、後で現地に回収しに行くことができる。
- 他のプレイヤーには「落ちたアイテムをギルドに届ける」クエストが発生する場合がある。

### 2. その場で復活する場合
- パーティをその場で復活させるイベントが発生する。
  - プレイヤー自身が別パーティを組んで救援しに行くことも可能。
  - 他プレイヤーが「復活救援クエスト」として救援に来てくれる場合もある。

- どちらのパターンでも、ギルドや他プレイヤーとの協力要素が強調される設計とする。

---

## 5. ギルド・救急車機能

- すべてのプレイヤーはゲーム開始時から地上の単一のギルドに所属する（ギルド未所属状態は存在しない）。
- ギルド所属プレイヤー全員が、救急車（復活支援）やアイテム回収などの協力クエストの対象となる。
- 救急車派遣時は、救援側にも報酬やポイントが付与される。
- 救急車の出動回数や待機時間、派遣条件などはギルドのレベルや規模によって変化。

---

## 6. 武器・装備・鑑定システム

- 武器・装備はダンジョン内で入手し、未鑑定状態では「名前や詳細性能・特殊効果」は非公開。
- ただし、レアリティの高い武器・装備は、未鑑定状態でも「オーラ」などの特殊エフェクトで希少性の高さを視覚的に示す。
- これにより、未鑑定品でもプレイヤーが希少品であることをある程度判別できる。
- 特定の武器・装備はNFT化が可能で、プレイヤー間で取引できる。
- 鑑定済み/未鑑定の状態で性能や価値が変動。

---

## 7. NFT武器・装備の仕様

- NFT化できる武器・装備は、レアリティや特別なドロップなどに限定される（ご希望に応じて詳細要件を追加可能）。
- NFT化された武器・装備は、ゲーム外マーケットやプレイヤー間での取引が可能。
- NFT化による所有権証明や、限定スキン・エフェクトなどの特典を付与できる。

---

## 8. UI/UX要素

- ゲーム画面はリアルタイム進行を意識したタイムライン型のUI。
- バトル、パーティ状況、マップ、ギルド救急車要請などの情報を一画面に集約。
- モバイル・PC両対応を想定（レスポンシブデザイン推奨）。

---

## 9. 仕様変更履歴

### 2025-07-10
- 武器鑑定システムをNFT対応に拡張
- 全滅時のペナルティを強化

### 2025-07-17
- バトル方式をリアルタイムに決定
- ギルド救急車機能を追加
- ダンジョン20階層構造を決定

### 2025-07-19
- 無限階層仕様、全員ギルド自動所属、全滅時のペナルティ＆救援クエスト、武器未鑑定時オーラ等の新仕様を反映

---

## 補足

- ここに記載の内容は議論・実装に応じて随時アップデートしてください。
- 詳細なAPI仕様やクラス設計などは別ドキュメントで管理することを推奨します。

